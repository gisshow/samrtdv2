<!DOCTYPE html>
<html class="no-js css-menubar" lang="zh-cn">

<head>
    <title>弹窗子页面</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- 移动设备 viewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,minimal-ui">
    <meta name="author" content="火星科技 http://cesium.marsgis.cn ">
    <!-- 360浏览器默认使用Webkit内核 -->
    <meta name="renderer" content="webkit">
    <!-- Chrome浏览器添加桌面快捷方式（安卓） -->
    <link rel="icon" type="image/png" href="../../img/favicon/favicon.png">
    <meta name="mobile-web-app-capable" content="yes">
    <!-- Safari浏览器添加到主屏幕（IOS） -->
    <link rel="icon" sizes="192x192" href="img/favicon/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="火星科技MarsGIS">
    <!-- Win8标题栏及ICON图标 -->
    <link rel="apple-touch-icon-precomposed" href="../../img/favicon/apple-touch-icon.png">
    <meta name="msapplication-TileImage" content="../../img/favicon/app-icon72x72@2x.png">
    <meta name="msapplication-TileColor" content="#62a8ea">

    <!-- 第3方lib引入 -->
    <script type="text/javascript" src="../../lib/include-lib.js?time=20190418" libpath="../../lib/" include="jquery,echarts,font-awesome,bootstrap,admui-frame"></script>

  <link href="../../sdk/third/css/widget-win.css" rel="stylesheet" />
    <link href="view.css?time=20190418" rel="stylesheet" />
    <link href="../../iconfont/iconfont.css" rel="stylesheet" />
</head>

<body>

<div class="container">






    <div id="echartdiv2" style="position: absolute;left :2px;top:3px;width: 96px;height: 195px;"   >

    </div>


</div>


<!--页面js-->
<script src="view.js?time=20190418"></script>
</body>

<script type="text/javascript">



    var thisWidget;

    var myChart;

    //当前页面业务
    function initWidgetView(_thisWidget) {
        thisWidget = _thisWidget;
        myChart = echarts.init(document.getElementById('echartdiv2'));
        //  this.loadcharts();
    }
    function loadcharts(colorRange,colors) {
    //   console.log(colors,'colors1')
      var max = 1.2;min =0;

      colorRange=colorRange
      colors=colors
    //   console.log(colors,'colors2')
      var option = {
          visualMap: {
              min: min,
              max:  max,
              left: '5',
              right:'5',
              top:'5',
              bottom: '5',
              calculable: false,
              text:['流速 '+parseFloat(max.toFixed(2))+"m/s",parseFloat(min.toFixed(2))+"m/s"],
              inRange: {
                  color: colors
              },
              textStyle: {
                  color: '#24CFF4'
              },
              formatter: function (value) {
                  return   value+"m/s"; // 范围标签显示内容。
              }
          }
      };


      // var option = {
      //   visualMap: {
      //     pieces: [
      //       {
      //         value: 5,
      //         label:'大于'+colorRange[colorRange.length-1]
      //       },
      //       {
      //         value: 4,
      //         label:colorRange[colorRange.length-2]+'-'+colorRange[colorRange.length-1]
      //       },
      //       {
      //         value: 3,
      //         label:colorRange[colorRange.length-3]+'-'+colorRange[colorRange.length-2]
      //       },
      //       {
      //         value: 2,
      //         label:colorRange[colorRange.length-4]+'-'+colorRange[colorRange.length-3]
      //       },
      //       {
      //         value: 1,
      //         label:colorRange[colorRange.length-5]+'-'+colorRange[colorRange.length-4]
      //       },
      //       {
      //         value: 0.8,
      //         label:colorRange[colorRange.length-6]+'-'+colorRange[colorRange.length-5]
      //       },
      //       {
      //         value: 0.7,
      //         label:colorRange[colorRange.length-7]+'-'+colorRange[colorRange.length-6]
      //       }
      //     ],
      //     showLabel:true,
      //     calculable: false,
      //     text:['流速 m/s',''],
      //     inRange: {
      //       color: colors
      //     },
      //     textStyle: {
      //       color: '#fff'
      //     }
      //   }
      // };


      myChart.setOption(option);

    }



</script>

</html>
